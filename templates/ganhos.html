<section id="tela-ganhos" class="pagina">
  <div class="container-full">
    <div class="card" id="card-formulario-ganho" style="display: none">
      <div class="card-header">
        <h2 id="titulo-form-ganho">Adicionar Ganho</h2>
        <button
          id="btn-fechar-form-ganho"
          class="btn-fechar"
          style="
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
          "
        >
          &times;
        </button>
      </div>

      <form
        id="formGanhoLojaFixa"
        class="form-ganho-conteudo"
        style="display: none"
      >
        <label>Data:</label>
        <input type="date" id="data-loja" required />
        <input
          type="number"
          id="valorDiaria-loja"
          placeholder="Valor da diária (R$)"
          step="0.01"
          min="0"
          required
        />
        <input
          type="number"
          id="taxaEntrega-loja"
          placeholder="Taxa por entrega (R$)"
          step="0.01"
          min="0"
          required
        />
        <input
          type="number"
          id="qtdEntregas-loja"
          placeholder="Qtd. Entregas Realizadas"
          min="0"
          required
        />
        <button type="submit" class="btn-salvar-ganho">Salvar Loja Fixa</button>
      </form>

      <form
        id="formGanhoPassageiros"
        class="form-ganho-conteudo"
        style="display: none"
      >
        <label>Data:</label>
        <input type="date" id="data-passageiros" required />
        <input
          type="number"
          id="qtd-passageiros"
          placeholder="Quantidade de Corridas"
          min="0"
          required
        />
        <input
          type="number"
          id="valor-passageiros"
          placeholder="Valor Total do Dia (R$)"
          step="0.01"
          min="0"
          required
        />
        <button
          type="submit"
          class="btn-salvar-ganho"
          style="background-color: #f1c40f; color: #000"
        >
          Salvar App Passageiro
        </button>
      </form>

      <form
        id="formGanhoEntregas"
        class="form-ganho-conteudo"
        style="display: none"
      >
        <label>Data:</label>
        <input type="date" id="data-entregas" required />
        <input
          type="number"
          id="qtd-entregas"
          placeholder="Quantidade de Entregas"
          min="0"
          required
        />
        <input
          type="number"
          id="valor-entregas"
          placeholder="Valor Total do Dia (R$)"
          step="0.01"
          min="0"
          required
        />
        <button
          type="submit"
          class="btn-salvar-ganho"
          style="background-color: #e74c3c; color: #fff"
        >
          Salvar App Entrega
        </button>
      </form>
    </div>

    <!-- Botões de Ação Flutuantes -->
    <div class="fab-container">
      <button class="fab-main" id="fab-main-button">
        <span class="material-icons">add</span>
      </button>
      <div class="fab-options">
        <button class="fab-option btn-acao-ganho" data-target="loja_fixa" title="Adicionar Ganho Loja Fixa">
          <span class="material-icons">store</span>
        </button>
        <button class="fab-option btn-acao-ganho" data-target="passageiros" title="Adicionar Ganho Passageiros">
          <span class="material-icons">directions_car</span>
        </button>
        <button class="fab-option btn-acao-ganho" data-target="entregas" title="Adicionar Ganho Entregas App">
          <span class="material-icons">two_wheeler</span>
        </button>
      </div>
    </div>

    <div class="card" id="card-historico">
      <h2 class="titulo-pagina">Histórico de Ganhos</h2>

      <!-- Filtros Avançados -->
      <div id="filtros-ganhos" class="filtros-container">
        <div class="filtro-item">
          <label for="filtro-periodo">Período</label>
          <select id="filtro-periodo">
            <option value="todos">Todos</option>
            <option value="hoje">Hoje</option>
            <option value="esta-semana" selected>Esta Semana</option>
            <option value="este-mes">Este Mês</option>
            <option value="personalizado">Personalizado</option>
          </select>
        </div>
        <div
          id="filtro-datas-personalizadas"
          style="display: none; width: 100%; gap: 10px"
        >
          <div class="filtro-item">
            <label for="filtro-data-inicio">De:</label>
            <input type="date" id="filtro-data-inicio" />
          </div>
          <div class="filtro-item">
            <label for="filtro-data-fim">Até:</label>
            <input type="date" id="filtro-data-fim" />
          </div>
        </div>
        <div class="filtro-item">
          <label>Categorias</label>
          <div id="filtro-categorias" class="filtro-categorias-chips">
            <button class="chip-categoria active" data-categoria="todos">Todos</button>
            <button class="chip-categoria" data-categoria="loja_fixa">Loja Fixa</button>
            <button class="chip-categoria" data-categoria="passageiros">Passageiros</button>
            <button class="chip-categoria" data-categoria="entregas">Entregas App</button>
          </div>
        </div>
        <div class="filtro-acoes">
          <button id="btn-aplicar-filtros" class="btn-primario">
            <span class="material-icons">filter_list</span> Aplicar
          </button>
          <button id="btn-limpar-filtros" class="btn-texto">
            Limpar
          </button>
        </div>
      </div>

      <!-- Card de Resumo do Filtro -->
      <div id="card-resumo-filtro" class="resumo-filtro" style="display: none;">
        <h4>Resumo do Período Filtrado</h4>
        <div class="resumo-item">
          <span class="resumo-label">Total do Período</span>
          <strong id="resumo-filtro-total">R$ 0,00</strong>
        </div>
        <div class="resumo-item">
          <span class="resumo-label">Total de Serviços</span>
          <strong id="resumo-filtro-servicos">0</strong>
        </div>
        <div class="resumo-item">
          <span class="resumo-label">Dias Trabalhados</span>
          <strong id="resumo-filtro-dias">0</strong>
        </div>
        <div class="resumo-item">
          <span class="resumo-label">Média Diária</span>
          <strong id="resumo-filtro-media">R$ 0,00</strong>
        </div>
      </div>

      <!-- Navegação por Abas para visualização -->
      <div class="tabs-container">
        <div class="tabs">
          <button class="tab-link active" data-tab="tab-todos">Todos</button>
          <button class="tab-link" data-tab="tab-loja">Loja Fixa</button>
          <button class="tab-link" data-tab="tab-passageiros">Passageiros</button>
          <button class="tab-link" data-tab="tab-entregas">Entregas App</button>
        </div>
      </div>

      <!-- Conteúdo das Abas -->
      <div id="tab-todos" class="tab-content active">
        <!-- A lista geral será renderizada aqui -->
      </div>
      <div id="tab-loja" class="tab-content">
        <!-- Ganhos de Loja Fixa -->
      </div>
      <div id="tab-passageiros" class="tab-content">
        <!-- Ganhos de Passageiros -->
      </div>
      <div id="tab-entregas" class="tab-content">
        <!-- Ganhos de Entregas App -->
      </div>
      
      <ul id="listaGanhos" class="lista-ganhos-moderna"></ul>

      <!-- A funcionalidade de compartilhar pode ser mantida ou aprimorada aqui -->
      <button id="btnCompartilhar" class="btn-secundario" style="width: 100%; margin-top: 20px;"><span class="material-icons">share</span> Compartilhar Resumo</button>
    </div>
  </div>
</section>
